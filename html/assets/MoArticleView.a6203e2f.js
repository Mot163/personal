import{a as v}from"./article-service.mod.9ac4e188.js";import{s as i}from"./index.5b561da9.js";import{s as f}from"./store.mod.8d7d9c48.js";import{E as u}from"./style.38dcc1e9.js";import{_ as g}from"./_plugin-vue_export-helper.cdc0426e.js";const w=o=>(Vue.pushScopeId("data-v-054b1ee5"),o=o(),Vue.popScopeId(),o),h={class:"mo-article-view"},E={class:"mo-article-view__head"},N={key:0,class:"mo-article-view__detail"},y={class:"mo-article-view__title"},I={class:"mo-article-view__info"},k={class:"mo-article-view__info-item"},R=["href"],b=["src"],C={class:"mo-article-view__info-item"},S=w(()=>Vue.createElementVNode("span",{class:"mo-article-view__info-item"},"\xB7",-1)),U={class:"mo-article-view__info-item"},A={class:"mo-article-view__body"},L={__name:"MoArticleView",setup(o){Vue.useCssVars(s=>({"3a802ed4":n.coverURL}));const{MdCatalog:_}=u,r=Vue.getCurrentInstance().proxy.$getActualPath,d=VueRouter.useRoute(),m=i.get("user"),l=i.get("defaultCoverImageURL")||r("static/img/default_cover.png"),V=i.get("avatarImageURL")||r("static/img/avatar.png"),a=Vue.reactive({id:`md-editor-v3-${Date.now()}`,scrollElement:document.documentElement,offsetTop:60}),e=Vue.reactive({id:"",title:"",description:"",cover:"",content:"",categoryId:"",categoryName:"",tags:[],views:0,topping:!1,status:1,createTime:""}),n=Vue.reactive({coverURL:`url('${l}')`});return(s=>{v.info(s).then(t=>{for(const c in t.data)e[c]=t.data[c];n.coverURL=`url('${e.cover||l}')`}).catch(t=>{})})(d.params.articleId),(s,t)=>{const c=Vue.resolveComponent("el-backtop");return Vue.openBlock(),Vue.createElementBlock("div",h,[Vue.createElementVNode("div",E,[e.title?(Vue.openBlock(),Vue.createElementBlock("div",N,[Vue.createElementVNode("div",y,Vue.toDisplayString(e.title),1),Vue.createElementVNode("div",I,[Vue.createElementVNode("span",k,[Vue.createElementVNode("a",{class:"mo-article-view__avatar",href:Vue.unref(r)("root")},[Vue.createElementVNode("img",{class:"mo-article-view__avatar-img",src:Vue.unref(V)},null,8,b)],8,R)]),Vue.createElementVNode("span",C,Vue.toDisplayString(Vue.unref(m)),1),S,Vue.createElementVNode("span",U,Vue.toDisplayString(e.createTime),1)])])):Vue.createCommentVNode("",!0)]),Vue.createElementVNode("div",A,[Vue.createVNode(Vue.unref(u),{class:"mo-article-view__content","editor-id":a.id,modelValue:e.content,"onUpdate:modelValue":t[0]||(t[0]=p=>e.content=p),previewOnly:!0},null,8,["editor-id","modelValue"]),Vue.unref(f).screenWidth>960?(Vue.openBlock(),Vue.createBlock(Vue.unref(_),{key:0,class:"mo-article-view__catalog",editorId:a.id,"scroll-element":a.scrollElement,"offset-top":a.offsetTop},null,8,["editorId","scroll-element","offset-top"])):Vue.createCommentVNode("",!0)]),Vue.createVNode(c,{class:"mo-article-view__backtop"})])}}},P=g(L,[["__scopeId","data-v-054b1ee5"]]);export{P as default};
